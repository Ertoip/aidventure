{"ast":null,"code":"import _defineProperty from\"/home/pietro/Desktop/aidventure/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/pietro/Desktop/aidventure/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/pietro/Desktop/aidventure/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./CharacterInventory.scss\";// Import your component's CSS file\nimport'bootstrap/dist/css/bootstrap.css';import legArmor from\"../img/leg-armor.svg\";import breastplate from\"../img/breastplate.svg\";import armoredPants from\"../img/armored-pants.svg\";import hand from\"../img/gauntlet.svg\";import pendant from\"../img/gem-pendant.svg\";import ring from\"../img/ring.svg\";import hood from\"../img/hood.svg\";import human from\"../img/character.svg\";import potion from\"../img/standing-potion.svg\";import bag from\"../img/swap-bag.svg\";import ItemDescriptionBox from\"./ItemDescriptionBox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CharacterInventory(_ref){var _equippedItems$head,_equippedItems$headAc,_equippedItems$weapon6,_equippedItems$body,_equippedItems$weapon7,_equippedItems$ring5,_equippedItems$legs,_equippedItems$ring6,_equippedItems$boots;var itemList=_ref.itemList,totalItems=_ref.totalItems,player=_ref.player,setPlayer=_ref.setPlayer,skills=_ref.skills;var itemsPerPage=14;// Number of items per page\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];//inventory page manager\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),hoveredItem=_useState4[0],setHoveredItem=_useState4[1];//hovered item description manager\nvar _useState5=useState({x:0,y:0}),_useState6=_slicedToArray(_useState5,2),cursorPosition=_useState6[0],setCursorPosition=_useState6[1];var _useState7=useState({// equipment variable\nhead:null,headAccessory:null,weapon1:null,body:null,weapon2:null,ring1:null,legs:null,ring2:null,boots:null}),_useState8=_slicedToArray(_useState7,2),equippedItems=_useState8[0],setEquippedItems=_useState8[1];//functions to manage inventory functioning\nvar DESCRIPTION_BOX_OFFSET_X=0;// Adjust this value as needed\nvar DESCRIPTION_BOX_OFFSET_Y=70;// Adjust this value as needed\nvar handleItemHover=function handleItemHover(item){setHoveredItem(item);var descriptionBox=document.getElementById(\"itemDescriptionBox\");descriptionBox.style.display=item?'block':'none';};var handleMouseMove=function handleMouseMove(event){// Update cursor position in the state with offset\nsetCursorPosition({x:event.clientX-DESCRIPTION_BOX_OFFSET_X,y:event.clientY-DESCRIPTION_BOX_OFFSET_Y});};function addStatsOnEquip(item){setPlayer(function(prevPlayer){return _objectSpread(_objectSpread({},prevPlayer),{},{equipmentStats:_objectSpread(_objectSpread({},prevPlayer.equipmentStats),{},{attack:item.damage?Math.round(prevPlayer.equipmentStats.attack+calculateScaling(item,player,item.damage)):prevPlayer.equipmentStats.attack,speed:Math.round(prevPlayer.equipmentStats.speed-item.weight/prevPlayer.stats.strength),maxStamina:Math.round(prevPlayer.equipmentStats.maxStamina-item.weight/prevPlayer.stats.vitality),stamina:Math.round(prevPlayer.equipmentStats.stamina-item.weight/prevPlayer.stats.vitality),defense:Math.round(prevPlayer.equipmentStats.defense+item.physicalDefense),magicalDefense:Math.round(prevPlayer.equipmentStats.magicalDefense+item.magicalDefense),mana:item.mana?Math.round(prevPlayer.equipmentStats.mana+item.mana):prevPlayer.equipmentStats.mana,maxMana:item.mana?Math.round(prevPlayer.equipmentStats.maxMana+item.mana):prevPlayer.equipmentStats.maxMana})});});}function removeStatsOnUnequip(item){setPlayer(function(prevPlayer){return _objectSpread(_objectSpread({},prevPlayer),{},{equipmentStats:_objectSpread(_objectSpread({},prevPlayer.equipmentStats),{},{attack:item.damage?Math.round(prevPlayer.equipmentStats.attack-calculateScaling(item,player,item.damage)):prevPlayer.equipmentStats.attack,speed:Math.round(prevPlayer.equipmentStats.speed+item.weight/prevPlayer.stats.strength),maxStamina:Math.round(prevPlayer.equipmentStats.maxStamina+item.weight/prevPlayer.stats.vitality),stamina:Math.round(prevPlayer.equipmentStats.stamina+item.weight/prevPlayer.stats.vitality),defense:Math.round(prevPlayer.equipmentStats.defense-item.physicalDefense),magicalDefense:Math.round(prevPlayer.equipmentStats.magicalDefense-item.magicalDefense),mana:item.mana?Math.round(prevPlayer.equipmentStats.mana+item.mana):prevPlayer.equipmentStats.mana,maxMana:item.mana?Math.round(prevPlayer.equipmentStats.maxMana+item.mana):prevPlayer.equipmentStats.maxMana})});});}var equipItem=function equipItem(item){if(item){var newItem=_objectSpread(_objectSpread({},item),{},{equipped:true});var equipmentType=item.equipmentType;if(item.twoHanded&&equipmentType===\"weapon\"){item.equipped=true;console.log(\"1\");addStatsOnEquip(item);//For two-handed weapons, occupy both weapon slots\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon1:newItem,weapon2:newItem});});}else if(equipmentType===\"ring\"&&equippedItems.ring1&&equippedItems.ring2){item.equipped=true;addStatsOnEquip(item);// If both ring slots are occupied, equip in slot 2\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{ring2:newItem});});}else if(equipmentType===\"weapon\"&&equippedItems.weapon1&&equippedItems.weapon2===null){item.equipped=true;console.log(\"2\");addStatsOnEquip(item);// If weapon1 is two-handed, equip in weapon2 slot\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon2:newItem});});}else if(equipmentType===\"ring\"&&equippedItems.ring1){item.equipped=true;addStatsOnEquip(item);// Equip ring in ring2 slot\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{ring2:newItem});});}else if(equipmentType===\"ring\"&&equippedItems.ring1==null){item.equipped=true;addStatsOnEquip(item);// Equip ring in ring1 slot\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{ring1:newItem});});}else if(equipmentType===\"weapon\"&&equippedItems.weapon1===null){item.equipped=true;console.log(\"3\");addStatsOnEquip(item);// Equip weapon in weapon1 slot\nsetEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon1:newItem});});}else if(equipmentType!==\"weapon\"&&equipmentType!==\"ring\"){console.log(\"1\");item.equipped=true;addStatsOnEquip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},_defineProperty({},equipmentType,newItem));});}}};var unequipItem=function unequipItem(item){if(item){var _equippedItems$ring,_equippedItems$ring2,_equippedItems$weapon,_equippedItems$weapon2,_equippedItems$weapon3,_equippedItems$equipm;var equipmentType=item.equipmentType;if(equipmentType===\"ring\"&&((_equippedItems$ring=equippedItems.ring1)===null||_equippedItems$ring===void 0?void 0:_equippedItems$ring.id)===item.id){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{ring1:null});});}else if(equipmentType===\"ring\"&&((_equippedItems$ring2=equippedItems.ring2)===null||_equippedItems$ring2===void 0?void 0:_equippedItems$ring2.id)===item.id){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{ring2:null});});}else if(equipmentType===\"weapon\"&&((_equippedItems$weapon=equippedItems.weapon1)===null||_equippedItems$weapon===void 0?void 0:_equippedItems$weapon.id)===item.id&&item.twoHanded===true){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon1:null,weapon2:null});});}else if(equipmentType===\"weapon\"&&((_equippedItems$weapon2=equippedItems.weapon1)===null||_equippedItems$weapon2===void 0?void 0:_equippedItems$weapon2.id)===item.id){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon1:null});});}else if(equipmentType===\"weapon\"&&((_equippedItems$weapon3=equippedItems.weapon2)===null||_equippedItems$weapon3===void 0?void 0:_equippedItems$weapon3.id)===item.id){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},{weapon2:null});});}else if(((_equippedItems$equipm=equippedItems[equipmentType])===null||_equippedItems$equipm===void 0?void 0:_equippedItems$equipm.id)===item.id){item.equipped=false;removeStatsOnUnequip(item);setEquippedItems(function(prevEquippedItems){return _objectSpread(_objectSpread({},prevEquippedItems),{},_defineProperty({},equipmentType,null));});}}};var isEquipped=function isEquipped(item){var _equippedItems$equipm2;var equipmentType=item.equipmentType;if(equipmentType===\"ring\"){var _equippedItems$ring3,_equippedItems$ring4;return item&&(((_equippedItems$ring3=equippedItems.ring1)===null||_equippedItems$ring3===void 0?void 0:_equippedItems$ring3.id)===item.id||((_equippedItems$ring4=equippedItems.ring2)===null||_equippedItems$ring4===void 0?void 0:_equippedItems$ring4.id)===item.id);}else if(equipmentType===\"weapon\"){var _equippedItems$weapon4,_equippedItems$weapon5;return item&&(((_equippedItems$weapon4=equippedItems.weapon1)===null||_equippedItems$weapon4===void 0?void 0:_equippedItems$weapon4.id)===item.id||((_equippedItems$weapon5=equippedItems.weapon2)===null||_equippedItems$weapon5===void 0?void 0:_equippedItems$weapon5.id)===item.id);}return item&&((_equippedItems$equipm2=equippedItems[equipmentType])===null||_equippedItems$equipm2===void 0?void 0:_equippedItems$equipm2.id)===item.id;};var handleItemClick=function handleItemClick(item){if(item&&item.equippable){if(isEquipped(item)){unequipItem(item);}else{equipItem(item);}}};function printItemQuality(item){if(item!=null){var _item$quality;var numberToCheck=(_item$quality=item.quality)!==null&&_item$quality!==void 0?_item$quality:item.level;switch(numberToCheck){case 0:return\"common\";case 1:return\"uncommon\";case 2:return\"rare\";case 3:return\"epic\";case 4:return\"legendary\";default:return\"mythical\";}}}// functions to display true stats from scaling\nfunction scalingCalculator(itemScaling,playerValue){console.log(\"itemScaling:\",itemScaling);console.log(\"playerValue:\",playerValue);return itemScaling*playerValue*0.25;}function calculateScaling(item,player,initValue){console.log(\"item:\",item);console.log(\"player:\",player);console.log(\"initValue:\",initValue);if(item!=null&&player!=null){return Math.round(initValue+scalingCalculator(item.scaling.vitality,player.stats.vitality)+scalingCalculator(item.scaling.strength,player.stats.strength)+scalingCalculator(item.scaling.dexterity,player.stats.dexterity)+scalingCalculator(item.scaling.intelligence,player.stats.intelligence)+scalingCalculator(item.scaling.faith,player.stats.faith)+scalingCalculator(item.scaling.charisma,player.stats.charisma)+scalingCalculator(item.scaling.luck,player.stats.luck));}}// Calculate start and end indices for items to display\nvar startIndex=(currentPage-1)*itemsPerPage;var endIndex=Math.min(startIndex+itemsPerPage,totalItems);// Create a subarray of items to display on the current page\nvar itemsToDisplay=itemList.slice(startIndex,endIndex);var goToPrevPage=function goToPrevPage(){if(currentPage>1){setCurrentPage(currentPage-1);}};var goToNextPage=function goToNextPage(){if(endIndex<totalItems){setCurrentPage(currentPage+1);}};function capitalizeFirstLetter(phrase){return phrase.charAt(0).toUpperCase()+phrase.slice(1);}//empty array ensures everything is run pnly once\nuseEffect(function(){for(var i=0;i<itemList.length;i++){var item=itemList[i];if(item.equipped){equipItem(item);}}//DO NOT REMOVE COMMENT BELOW VERY IMPORTANT\n// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){var descriptionBox=document.querySelector('.itemDescriptionBox');if(descriptionBox){var descriptionBoxRect=descriptionBox.getBoundingClientRect();var viewportWidth=window.innerWidth;var viewportHeight=window.innerHeight;// Calculate adjusted position based on viewport dimensions\nvar adjustedX=Math.min(cursorPosition.x,viewportWidth-descriptionBoxRect.width-10);// Subtract an additional offset from the adjusted Y position to ensure space from the bottom\nvar adjustedY=Math.min(cursorPosition.y,viewportHeight-descriptionBoxRect.height-100// Adjust this value as needed\n);// Set the adjusted position of the itemDescriptionBox\ndescriptionBox.style.left=\"\".concat(adjustedX,\"px\");descriptionBox.style.top=\"\".concat(adjustedY,\"px\");}},[cursorPosition]);return/*#__PURE__*/_jsxs(\"div\",{className:\"row inventory\",children:[/*#__PURE__*/_jsx(ItemDescriptionBox,{item:hoveredItem,player:player}),/*#__PURE__*/_jsx(\"div\",{className:\"row skills\",children:skills.map(function(skill,index){return/*#__PURE__*/_jsx(\"div\",{className:\"skillBlock\",onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(skill);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:skill.icon,alt:\"\"})},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"equipment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock nothing\"}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock head\",onClick:function onClick(){return handleItemClick(equippedItems.head);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.head);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$head=equippedItems.head)===null||_equippedItems$head===void 0?void 0:_equippedItems$head.icon)||hood,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock headAccessory\",onClick:function onClick(){return handleItemClick(equippedItems.headAccessory);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.headAccessory);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$headAc=equippedItems.headAccessory)===null||_equippedItems$headAc===void 0?void 0:_equippedItems$headAc.icon)||pendant,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"armsBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.weapon1);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.weapon1);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$weapon6=equippedItems.weapon1)===null||_equippedItems$weapon6===void 0?void 0:_equippedItems$weapon6.icon)||hand,className:\"leftHand\",alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.body);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.body);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$body=equippedItems.body)===null||_equippedItems$body===void 0?void 0:_equippedItems$body.icon)||breastplate,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.weapon2);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.weapon2);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$weapon7=equippedItems.weapon2)===null||_equippedItems$weapon7===void 0?void 0:_equippedItems$weapon7.icon)||hand,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"armsBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.ring1);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.ring1);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$ring5=equippedItems.ring1)===null||_equippedItems$ring5===void 0?void 0:_equippedItems$ring5.icon)||ring,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.legs);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.legs);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$legs=equippedItems.legs)===null||_equippedItems$legs===void 0?void 0:_equippedItems$legs.icon)||armoredPants,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.ring2);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.ring2);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$ring6=equippedItems.ring2)===null||_equippedItems$ring6===void 0?void 0:_equippedItems$ring6.icon)||ring,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"armsBlock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock nothing\"}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock\",onClick:function onClick(){return handleItemClick(equippedItems.boots);},onMouseMove:handleMouseMove,onMouseEnter:function onMouseEnter(){return handleItemHover(equippedItems.boots);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},children:/*#__PURE__*/_jsx(\"img\",{src:((_equippedItems$boots=equippedItems.boots)===null||_equippedItems$boots===void 0?void 0:_equippedItems$boots.icon)||legArmor,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"equipmentBlock nothing\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventoryCol col-lg-7\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"end\",children:[endIndex,\"/\",totalItems]}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",onClick:goToPrevPage,disabled:currentPage===1,children:/*#__PURE__*/_jsx(\"p\",{className:\"\",children:\"< Prev\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",onClick:goToNextPage,disabled:endIndex>=totalItems,children:/*#__PURE__*/_jsx(\"p\",{className:\"end\",children:\"Next >\"})}),itemsToDisplay.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"item \"+printItemQuality(item),onClick:function onClick(){return handleItemClick(item);},onMouseEnter:function onMouseEnter(){return handleItemHover(item);},onMouseLeave:function onMouseLeave(){return handleItemHover(null);},onMouseMove:handleMouseMove,children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:item.icon&&/*#__PURE__*/_jsx(\"img\",{src:item.icon,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"data\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"\",children:capitalizeFirstLetter(item.name)}),/*#__PURE__*/_jsx(\"p\",{className:\"numItems\",children:item.stackable?item.quantity:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"statusIcons\",children:[isEquipped(item)?/*#__PURE__*/_jsx(\"img\",{src:human,alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{src:bag,alt:\"\"}),!item.equippable?/*#__PURE__*/_jsx(\"img\",{src:potion,alt:\"\"}):null]})]},index);}),Array.from({length:endIndex-startIndex-itemsToDisplay.length}).map(function(_,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"data\"})]},index+itemsToDisplay.length);})]})]});}export default CharacterInventory;","map":{"version":3,"names":["React","useState","useEffect","legArmor","breastplate","armoredPants","hand","pendant","ring","hood","human","potion","bag","ItemDescriptionBox","jsx","_jsx","jsxs","_jsxs","CharacterInventory","_ref","_equippedItems$head","_equippedItems$headAc","_equippedItems$weapon6","_equippedItems$body","_equippedItems$weapon7","_equippedItems$ring5","_equippedItems$legs","_equippedItems$ring6","_equippedItems$boots","itemList","totalItems","player","setPlayer","skills","itemsPerPage","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","hoveredItem","setHoveredItem","_useState5","x","y","_useState6","cursorPosition","setCursorPosition","_useState7","head","headAccessory","weapon1","body","weapon2","ring1","legs","ring2","boots","_useState8","equippedItems","setEquippedItems","DESCRIPTION_BOX_OFFSET_X","DESCRIPTION_BOX_OFFSET_Y","handleItemHover","item","descriptionBox","document","getElementById","style","display","handleMouseMove","event","clientX","clientY","addStatsOnEquip","prevPlayer","_objectSpread","equipmentStats","attack","damage","Math","round","calculateScaling","speed","weight","stats","strength","maxStamina","vitality","stamina","defense","physicalDefense","magicalDefense","mana","maxMana","removeStatsOnUnequip","equipItem","newItem","equipped","equipmentType","twoHanded","console","log","prevEquippedItems","_defineProperty","unequipItem","_equippedItems$ring","_equippedItems$ring2","_equippedItems$weapon","_equippedItems$weapon2","_equippedItems$weapon3","_equippedItems$equipm","id","isEquipped","_equippedItems$equipm2","_equippedItems$ring3","_equippedItems$ring4","_equippedItems$weapon4","_equippedItems$weapon5","handleItemClick","equippable","printItemQuality","_item$quality","numberToCheck","quality","level","scalingCalculator","itemScaling","playerValue","initValue","scaling","dexterity","intelligence","faith","charisma","luck","startIndex","endIndex","min","itemsToDisplay","slice","goToPrevPage","goToNextPage","capitalizeFirstLetter","phrase","charAt","toUpperCase","i","length","querySelector","descriptionBoxRect","getBoundingClientRect","viewportWidth","window","innerWidth","viewportHeight","innerHeight","adjustedX","width","adjustedY","height","left","concat","top","className","children","map","skill","index","onMouseMove","onMouseEnter","onMouseLeave","src","icon","alt","onClick","disabled","name","stackable","quantity","Array","from","_"],"sources":["/home/pietro/Desktop/aidventure/frontend/src/elements/CharacterInventory.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./CharacterInventory.scss\"; // Import your component's CSS file\nimport 'bootstrap/dist/css/bootstrap.css';\nimport legArmor from \"../img/leg-armor.svg\"\nimport breastplate from \"../img/breastplate.svg\"\nimport armoredPants from \"../img/armored-pants.svg\"\nimport hand from \"../img/gauntlet.svg\"\nimport pendant from \"../img/gem-pendant.svg\"\nimport ring from \"../img/ring.svg\"\nimport hood from \"../img/hood.svg\"\nimport human from \"../img/character.svg\"\nimport potion from \"../img/standing-potion.svg\"\nimport bag from \"../img/swap-bag.svg\"\nimport ItemDescriptionBox from \"./ItemDescriptionBox\";\n\nfunction CharacterInventory({itemList, totalItems, player, setPlayer, skills}) {\n    const itemsPerPage = 14; // Number of items per page\n\n    const [currentPage, setCurrentPage] = useState(1); //inventory page manager\n    const [hoveredItem, setHoveredItem] = useState(null); //hovered item description manager\n    const [cursorPosition, setCursorPosition] = useState({ x: 0, y: 0 });\n    const [equippedItems, setEquippedItems] = useState({ // equipment variable\n        head: null,\n        headAccessory: null,\n        weapon1: null,\n        body: null,\n        weapon2: null,\n        ring1: null,\n        legs: null,\n        ring2: null,\n        boots: null\n    });\n\n    //functions to manage inventory functioning\n    const DESCRIPTION_BOX_OFFSET_X = 0; // Adjust this value as needed\n    const DESCRIPTION_BOX_OFFSET_Y = 70; // Adjust this value as needed\n\n    const handleItemHover = (item) => {\n        setHoveredItem(item);\n        const descriptionBox = document.getElementById(\"itemDescriptionBox\");\n\n        descriptionBox.style.display = item ? 'block' : 'none';\n    };\n\n    const handleMouseMove = (event) => {\n        // Update cursor position in the state with offset\n        setCursorPosition({\n            x: event.clientX - DESCRIPTION_BOX_OFFSET_X,\n            y: event.clientY - DESCRIPTION_BOX_OFFSET_Y,\n        });\n    };\n\n    function addStatsOnEquip(item) {\n\n        setPlayer((prevPlayer) => ({\n            ...prevPlayer,\n            equipmentStats: {\n                ...prevPlayer.equipmentStats,\n                attack: item.damage ? Math.round(prevPlayer.equipmentStats.attack + calculateScaling(item, player, item.damage)) : prevPlayer.equipmentStats.attack,\n                speed: Math.round(prevPlayer.equipmentStats.speed - (item.weight / (prevPlayer.stats.strength))),\n                maxStamina: Math.round(prevPlayer.equipmentStats.maxStamina - (item.weight / (prevPlayer.stats.vitality))),\n                stamina: Math.round(prevPlayer.equipmentStats.stamina - (item.weight / (prevPlayer.stats.vitality))),\n                defense: Math.round(prevPlayer.equipmentStats.defense + item.physicalDefense),\n                magicalDefense: Math.round(prevPlayer.equipmentStats.magicalDefense + item.magicalDefense),\n                mana: item.mana ? Math.round(prevPlayer.equipmentStats.mana + item.mana) : prevPlayer.equipmentStats.mana,\n                maxMana: item.mana ? Math.round(prevPlayer.equipmentStats.maxMana + item.mana) : prevPlayer.equipmentStats.maxMana,\n\n            },\n        }));\n    }\n\n    function removeStatsOnUnequip(item) {\n        setPlayer((prevPlayer) => ({\n            ...prevPlayer,\n            equipmentStats: {\n                ...prevPlayer.equipmentStats,\n                attack: item.damage ? Math.round(prevPlayer.equipmentStats.attack - calculateScaling(item, player, item.damage)) : prevPlayer.equipmentStats.attack,\n                speed: Math.round(prevPlayer.equipmentStats.speed + (item.weight / (prevPlayer.stats.strength))),\n                maxStamina: Math.round(prevPlayer.equipmentStats.maxStamina + (item.weight / (prevPlayer.stats.vitality))),\n                stamina: Math.round(prevPlayer.equipmentStats.stamina + (item.weight / (prevPlayer.stats.vitality))),\n                defense: Math.round(prevPlayer.equipmentStats.defense - item.physicalDefense),\n                magicalDefense: Math.round(prevPlayer.equipmentStats.magicalDefense - item.magicalDefense),\n                mana: item.mana ? Math.round(prevPlayer.equipmentStats.mana + item.mana) : prevPlayer.equipmentStats.mana,\n                maxMana: item.mana ? Math.round(prevPlayer.equipmentStats.maxMana + item.mana) : prevPlayer.equipmentStats.maxMana,\n            },\n        }));\n    }\n\n    const equipItem = (item) => {\n        if (item) {\n            const newItem = { ...item, equipped: true };\n\n            const equipmentType = item.equipmentType;\n    \n            if (item.twoHanded && equipmentType === \"weapon\") {\n                item.equipped = true\n                console.log(\"1\")\n\n                addStatsOnEquip(item);\n\n                //For two-handed weapons, occupy both weapon slots\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon1: newItem,\n                    weapon2: newItem\n                }));\n            } else if (equipmentType === \"ring\" && equippedItems.ring1 && equippedItems.ring2) {\n                item.equipped = true\n\n                addStatsOnEquip(item);\n\n                // If both ring slots are occupied, equip in slot 2\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    ring2: newItem,\n                }));\n            } else if (equipmentType === \"weapon\" && equippedItems.weapon1 && equippedItems.weapon2 === null) {\n                item.equipped = true\n                console.log(\"2\")\n\n                addStatsOnEquip(item);\n\n                // If weapon1 is two-handed, equip in weapon2 slot\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon2: newItem,\n                }));\n            } else if (equipmentType === \"ring\" && equippedItems.ring1) {\n                item.equipped = true\n\n                addStatsOnEquip(item);\n\n                // Equip ring in ring2 slot\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    ring2: newItem,\n                }));\n            } else if (equipmentType === \"ring\" && equippedItems.ring1 == null) {\n                item.equipped = true\n\n                addStatsOnEquip(item);\n\n                // Equip ring in ring1 slot\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    ring1: newItem,\n                }));\n            } else if (equipmentType === \"weapon\" && equippedItems.weapon1 === null) {\n                item.equipped = true\n                console.log(\"3\")\n\n                addStatsOnEquip(item);\n\n                // Equip weapon in weapon1 slot\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon1: newItem,\n                }));\n            } else if (equipmentType !== \"weapon\" && equipmentType !== \"ring\"){\n                console.log(\"1\")\n\n                item.equipped = true\n\n                addStatsOnEquip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    [equipmentType]: newItem,\n                }));\n            }\n        }\n    };\n    \n    const unequipItem = (item) => {\n        if (item) {\n            const equipmentType = item.equipmentType;\n    \n            if (equipmentType === \"ring\" && equippedItems.ring1?.id === item.id) {\n                item.equipped = false\n\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    ring1: null,\n                }));\n            } else if (equipmentType === \"ring\" && equippedItems.ring2?.id === item.id) {\n                item.equipped = false\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    ring2: null,\n                }));\n            } else if (equipmentType === \"weapon\" && equippedItems.weapon1?.id === item.id && item.twoHanded === true) {\n                item.equipped = false\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon1: null,\n                    weapon2: null\n                }));\n            } else if (equipmentType === \"weapon\" && equippedItems.weapon1?.id === item.id) {\n                item.equipped = false\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon1: null,\n                }));\n            } else if (equipmentType === \"weapon\" && equippedItems.weapon2?.id === item.id) {\n                item.equipped = false\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    weapon2: null,\n                }));\n            } else if (equippedItems[equipmentType]?.id === item.id) {\n                item.equipped = false\n                removeStatsOnUnequip(item);\n\n                setEquippedItems((prevEquippedItems) => ({\n                    ...prevEquippedItems,\n                    [equipmentType]: null,\n                }));\n            }\n        }\n    };\n\n    const isEquipped = (item) => {\n        const equipmentType = item.equipmentType;\n    \n        if (equipmentType === \"ring\") {\n            return (\n                item &&\n                (equippedItems.ring1?.id === item.id || equippedItems.ring2?.id === item.id)\n            );\n        } else if (equipmentType === \"weapon\") {\n            return (\n                item &&\n                (equippedItems.weapon1?.id === item.id || equippedItems.weapon2?.id === item.id)\n            );\n        }\n    \n        return item && equippedItems[equipmentType]?.id === item.id;\n    };\n\n    const handleItemClick = (item) => {\n        if (item && item.equippable){\n            if (isEquipped(item)) {\n                unequipItem(item);\n            } else {\n                equipItem(item);\n            }\n        }\n    };\n\n    function printItemQuality(item) {\n        if(item != null){\n    \n            const numberToCheck = item.quality ?? item.level;\n        \n            switch (numberToCheck) {\n            case 0:\n                return \"common\";\n            case 1:\n                return \"uncommon\";\n            case 2:\n                return \"rare\";\n            case 3:\n                return \"epic\";\n            case 4:\n                return \"legendary\";\n            default:\n                return \"mythical\";\n            }\n        }\n    }\n\n    // functions to display true stats from scaling\n\n    function scalingCalculator(itemScaling, playerValue){\n        console.log(\"itemScaling:\", itemScaling);\n        console.log(\"playerValue:\", playerValue);\n        return itemScaling * playerValue * 0.25;\n    }\n\n    function calculateScaling(item, player, initValue){\n        console.log(\"item:\", item);\n        console.log(\"player:\", player);\n        console.log(\"initValue:\", initValue);\n        if(item != null && player != null){\n\n            return Math.round(initValue + scalingCalculator(item.scaling.vitality, player.stats.vitality) + scalingCalculator(item.scaling.strength, player.stats.strength) + scalingCalculator(item.scaling.dexterity, player.stats.dexterity) + scalingCalculator(item.scaling.intelligence, player.stats.intelligence) + scalingCalculator(item.scaling.faith, player.stats.faith) + scalingCalculator(item.scaling.charisma, player.stats.charisma) + scalingCalculator(item.scaling.luck, player.stats.luck))\n        }\n    }\n    \n    // Calculate start and end indices for items to display\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const endIndex = Math.min(startIndex + itemsPerPage, totalItems);\n\n    // Create a subarray of items to display on the current page\n    const itemsToDisplay = itemList.slice(startIndex, endIndex);\n\n    const goToPrevPage = () => {\n        if (currentPage > 1) {\n        setCurrentPage(currentPage - 1);\n        }\n    };\n\n    const goToNextPage = () => {\n        if (endIndex < totalItems) {\n        setCurrentPage(currentPage + 1);\n        }\n    };\n\n    function capitalizeFirstLetter(phrase) {\n        return phrase.charAt(0).toUpperCase() + phrase.slice(1);\n    }\n\n    //empty array ensures everything is run pnly once\n\n    useEffect(() => {\n        for (let i = 0; i < itemList.length; i++) {\n            let item = itemList[i];\n            if (item.equipped) {\n                equipItem(item);\n            }\n        }\n    //DO NOT REMOVE COMMENT BELOW VERY IMPORTANT\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        const descriptionBox = document.querySelector('.itemDescriptionBox');\n        if (descriptionBox) {\n            const descriptionBoxRect = descriptionBox.getBoundingClientRect();\n            const viewportWidth = window.innerWidth;\n            const viewportHeight = window.innerHeight;\n    \n            // Calculate adjusted position based on viewport dimensions\n            const adjustedX = Math.min(\n                cursorPosition.x,\n                viewportWidth - descriptionBoxRect.width-10\n            );\n            // Subtract an additional offset from the adjusted Y position to ensure space from the bottom\n            const adjustedY = Math.min(\n                cursorPosition.y,\n                viewportHeight - descriptionBoxRect.height - 100 // Adjust this value as needed\n            );\n    \n            // Set the adjusted position of the itemDescriptionBox\n            descriptionBox.style.left = `${adjustedX}px`;\n            descriptionBox.style.top = `${adjustedY}px`;\n        }\n    }, [cursorPosition]);\n\n    return (\n        <div className=\"row inventory\"> \n            <ItemDescriptionBox item={hoveredItem} player={player}/>\n\n            <div className=\"row skills\">\n                {skills.map((skill, index) => (\n                    <div className=\"skillBlock\" \n                    key={index}\n                    onMouseMove={handleMouseMove} \n                    onMouseEnter={() => handleItemHover(skill)} \n                    onMouseLeave={() => handleItemHover(null)}>\n                        <img src={skill.icon} alt=\"\"/>\n                    </div>\n                ))}\n            </div>\n            <div className='col-lg-5'>\n                \n                <div className=\"equipment\">\n                    <div className=\"headBlock\">\n                        <div className=\"equipmentBlock nothing\">\n                        </div>\n                        <div className=\"equipmentBlock head\" onClick={() => handleItemClick(equippedItems.head)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.head)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.head?.icon || hood} alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock headAccessory\" onClick={() => handleItemClick(equippedItems.headAccessory)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.headAccessory)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.headAccessory?.icon || pendant} alt=\"\"/>\n                        </div>\n                    </div>                            \n                    <div className=\"armsBlock\">\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.weapon1)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.weapon1)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.weapon1?.icon || hand} className='leftHand' alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.body)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.body)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.body?.icon || breastplate} alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.weapon2)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.weapon2)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.weapon2?.icon || hand} alt=\"\"/>\n                        </div>\n                        \n                    </div>\n                    <div className=\"armsBlock\">\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.ring1)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.ring1)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.ring1?.icon || ring} alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.legs)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.legs)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.legs?.icon || armoredPants} alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.ring2)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.ring2)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.ring2?.icon || ring} alt=\"\"/>\n                        </div>\n                    </div>\n                    <div className=\"armsBlock\">\n                        <div className=\"equipmentBlock nothing\"></div>\n                        <div className=\"equipmentBlock\" onClick={() => handleItemClick(equippedItems.boots)} onMouseMove={handleMouseMove} onMouseEnter={() => handleItemHover(equippedItems.boots)} onMouseLeave={() => handleItemHover(null)}>\n                            <img src={equippedItems.boots?.icon || legArmor} alt=\"\"/>\n                        </div>\n                        <div className=\"equipmentBlock nothing\"></div>\n                    </div>\n                </div>\n\n            </div>\n            <div className=\"inventoryCol col-lg-7\">\n                <p className=\"end\">{endIndex}/{totalItems}</p>\n                <div className=\"item\" onClick={goToPrevPage} disabled={currentPage === 1}>\n                    <p className=\"\">&lt; Prev</p>\n                </div>\n                <div className=\"item\" onClick={goToNextPage} disabled={endIndex >= totalItems}>\n                    <p className=\"end\">Next &gt;</p>\n                </div>\n                {itemsToDisplay.map((item, index) => (\n                <div className={\"item \"+ printItemQuality(item)} key={index}         \n                onClick={() => handleItemClick(item)}\n                onMouseEnter={() => handleItemHover(item)}\n                onMouseLeave={() => handleItemHover(null)}\n                onMouseMove={handleMouseMove}>\n                    \n                    <div className=\"icon\">\n                        {item.icon && <img src={item.icon} alt=\"\" />}\n                    </div>\n                    \n                    <div className=\"data\">\n                        <p className=''>{capitalizeFirstLetter(item.name)}</p>\n                        <p className=\"numItems\">{item.stackable ? item.quantity : null}</p>\n                    </div>\n\n                    <div className=\"statusIcons\">\n                            {isEquipped(item) ? <img src={human} alt=\"\"/> : <img src={bag} alt=\"\"/>}\n                            {!item.equippable ? <img src={potion} alt=\"\"/> : null}\n                    </div>\n\n                </div>\n                ))}\n                {Array.from({ length: endIndex - startIndex - itemsToDisplay.length }).map((_, index) => (\n                    <div className=\"item\" key={index + itemsToDisplay.length}>\n                        <div className=\"icon\">\n                        </div>\n                        <div className=\"data\">\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default CharacterInventory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}